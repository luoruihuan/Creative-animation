// SweetAlert
// 2014 (c) - Tristan Edwards
// github.com/t4t5/sweetalert

(function(e,t,n){function k(){function i(e){var t=r;return typeof t[e]!="undefined"?t[e]:o[e]}function x(t){var r=t||e.event,i=r.keyCode||r.which;if([9,13,32,27].indexOf(i)===-1)return;var o=r.target||r.srcElement,u=-1;for(var a=0;a<w.length;a++)if(o===w[a]){u=a;break}i===9?(u===-1?o=y:u===w.length-1?o=w[0]:o=w[u+1],S(r),o.focus(),_(o,s.confirmButtonColor)):(i===13||i===32?u===-1?o=y:o=n:i===27&&s.allowEscapeKey===!0?o=b:o=n,o!==n&&E(o,r))}function k(t){var n=t||e.event,r=n.target||n.srcElement,i=n.relatedTarget,s=f(p,"visible");if(s){var o=-1;if(i!==null){for(var u=0;u<w.length;u++)if(i===w[u]){o=u;break}o===-1&&r.focus()}else C=r}}var r=arguments[0];if(arguments[0]===n)return B("SweetAlert expects at least 1 attribute!"),!1;var s=O({},o);switch(typeof arguments[0]){case"string":s.title=arguments[0],s.text=arguments[1]||"",s.type=arguments[2]||"";break;case"object":if(arguments[0].title===n)return B('Missing "title" argument!'),!1;s.title=arguments[0].title;var a=["text","type","customClass","allowOutsideClick","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey"],l=a.length;for(var c=0;c<l;c++){var h=a[c];s[h]=i(h)}s.confirmButtonText=s.showCancelButton?"Confirm":o.confirmButtonText,s.confirmButtonText=i("confirmButtonText"),s.doneFunction=arguments[1]||null;break;default:return B('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}L(s),P(),D();var p=u(),d=function(t){var n=t||e.event,r=n.target||n.srcElement,i=r.className.indexOf("confirm")!==-1,o=f(p,"visible"),u=s.doneFunction&&p.getAttribute("data-has-done-function")==="true";switch(n.type){case"mouseover":i&&(r.style.backgroundColor=A(s.confirmButtonColor,-0.04));break;case"mouseout":i&&(r.style.backgroundColor=s.confirmButtonColor);break;case"mousedown":i&&(r.style.backgroundColor=A(s.confirmButtonColor,-0.14));break;case"mouseup":i&&(r.style.backgroundColor=A(s.confirmButtonColor,-0.04));break;case"focus":var a=p.querySelector("button.confirm"),l=p.querySelector("button.cancel");i?l.style.boxShadow="none":a.style.boxShadow="none";break;case"click":if(i&&u&&o)s.doneFunction(!0),s.closeOnConfirm&&e.sweetAlert.close();else if(u&&o){var c=String(s.doneFunction).replace(/\s/g,""),h=c.substring(0,9)==="function("&&c.substring(9,10)!==")";h&&s.doneFunction(!1),s.closeOnCancel&&e.sweetAlert.close()}else e.sweetAlert.close()}},v=p.querySelectorAll("button");for(var m=0;m<v.length;m++)v[m].onclick=d,v[m].onmouseover=d,v[m].onmouseout=d,v[m].onmousedown=d,v[m].onfocus=d;T=t.onclick,t.onclick=function(t){var n=t||e.event,r=n.target||n.srcElement,i=p===r,s=g(p,r),o=f(p,"visible"),u=p.getAttribute("data-allow-ouside-click")==="true";!i&&!s&&o&&u&&e.sweetAlert.close()};var y=p.querySelector("button.confirm"),b=p.querySelector("button.cancel"),w=p.querySelectorAll("button[tabindex]");N=e.onkeydown,e.onkeydown=x,y.onblur=k,b.onblur=k,e.onfocus=function(){e.setTimeout(function(){C!==n&&(C.focus(),C=n)},0)}}function L(e){var t=u(),n=t.querySelector("h2"),r=t.querySelector("p"),i=t.querySelector("button.cancel"),o=t.querySelector("button.confirm");n.innerHTML=e.html?e.title:h(e.title).split("\n").join("<br>"),r.innerHTML=e.html?e.text:h(e.text||"").split("\n").join("<br>"),e.text&&d(r);if(e.customClass)l(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var a=t.getAttribute("data-custom-class");c(t,a),t.setAttribute("data-custom-class","")}m(t.querySelectorAll(".icon"));if(e.type&&!H()){var f=!1;for(var p=0;p<s.length;p++)if(e.type===s[p]){f=!0;break}if(!f)return B("Unknown alert type: "+e.type),!1;var v=t.querySelector(".icon."+e.type);d(v);switch(e.type){case"success":l(v,"animate"),l(v.querySelector(".tip"),"animateSuccessTip"),l(v.querySelector(".long"),"animateSuccessLong");break;case"error":l(v,"animateErrorIcon"),l(v.querySelector(".x-mark"),"animateXMark");break;case"warning":l(v,"pulseWarning"),l(v.querySelector(".body"),"pulseWarningIns"),l(v.querySelector(".dot"),"pulseWarningIns")}}if(e.imageUrl){var g=t.querySelector(".icon.custom");g.style.backgroundImage="url("+e.imageUrl+")",d(g);var y=80,b=80;if(e.imageSize){var w=e.imageSize.toString().split("x"),E=w[0],S=w[1];!E||!S?B("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize):(y=E,b=S)}g.setAttribute("style",g.getAttribute("style")+"width:"+y+"px; height:"+b+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?i.style.display="inline-block":m(i),e.cancelButtonText&&(i.innerHTML=h(e.cancelButtonText)),e.confirmButtonText&&(o.innerHTML=h(e.confirmButtonText)),o.style.backgroundColor=e.confirmButtonColor,_(o,e.confirmButtonColor),t.setAttribute("data-allow-ouside-click",e.allowOutsideClick);var x=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",x),e.animation?t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)}function A(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n="#",r,i;for(i=0;i<3;i++)r=parseInt(e.substr(i*2,2),16),r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16),n+=("00"+r).substr(r.length);return n}function O(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function M(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null}function _(e,t){var n=M(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function D(){var n=u();b(a(),10),d(n),l(n,"showSweetAlert"),c(n,"hideSweetAlert"),x=t.activeElement;var r=n.querySelector("button.confirm");r.focus(),setTimeout(function(){l(n,"visible")},500);var i=n.getAttribute("data-timer");i!=="null"&&i!==""&&(n.timeout=setTimeout(function(){e.sweetAlert.close()},i))}function P(){var e=u();e.style.marginTop=y(u())}function H(){return e.attachEvent&&!e.addEventListener?!0:!1}function B(t){e.console&&e.console.log("SweetAlert: "+t)}var r=".sweet-alert",i=".sweet-overlay",s=["error","warning","info","success"],o={title:"",text:"",type:null,allowOutsideClick:!1,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0},u=function(){var e=t.querySelector(r);return e||(sweetAlertInitialize(),e=u()),e},a=function(){return t.querySelector(i)},f=function(e,t){return(new RegExp(" "+t+" ")).test(" "+e.className+" ")},l=function(e,t){f(e,t)||(e.className+=" "+t)},c=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(f(e,t)){while(n.indexOf(" "+t+" ")>=0)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},h=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},p=function(e){e.style.opacity="",e.style.display="block"},d=function(e){if(e&&!e.length)return p(e);for(var t=0;t<e.length;++t)p(e[t])},v=function(e){e.style.opacity="",e.style.display="none"},m=function(e){if(e&&!e.length)return v(e);for(var t=0;t<e.length;++t)v(e[t])},g=function(e,t){var n=t.parentNode;while(n!==null){if(n===e)return!0;n=n.parentNode}return!1},y=function(e){e.style.left="-9999px",e.style.display="block";var t=e.clientHeight,n;return typeof getComputedStyle!="undefined"?n=parseInt(getComputedStyle(e).getPropertyValue("padding"),10):n=parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt(t/2+n)+"px"},b=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+(new Date),r=function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+(new Date),+e.style.opacity<1&&setTimeout(r,t)};r()}e.style.display="block"},w=function(e,t){t=t||16,e.style.opacity=1;var n=+(new Date),r=function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+(new Date),+e.style.opacity>0?setTimeout(r,t):e.style.display="none"};r()},E=function(n){if(typeof MouseEvent=="function"){var r=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(r)}else if(t.createEvent){var i=t.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i)}else t.createEventObject?n.fireEvent("onclick"):typeof n.onclick=="function"&&n.onclick()},S=function(t){typeof t.stopPropagation=="function"?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)},x,T,N,C;e.sweetAlertInitialize=function(){var e='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p>Text</p><button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',n=t.createElement("div");n.innerHTML=e;while(n.firstChild)t.body.appendChild(n.firstChild)},e.sweetAlert=e.swal=function(){var e=arguments;if(u()!==null)k.apply(this,e);else var t=setInterval(function(){u()!==null&&(clearInterval(t),k.apply(this,e))},100)},e.sweetAlert.setDefaults=e.swal.setDefaults=function(e){if(!e)throw new Error("userParams is required");if(typeof e!="object")throw new Error("userParams has to be a object");O(o,e)},e.sweetAlert.close=e.swal.close=function(){var r=u();w(a(),5),w(r,5),c(r,"showSweetAlert"),l(r,"hideSweetAlert"),c(r,"visible");var i=r.querySelector(".icon.success");c(i,"animate"),c(i.querySelector(".tip"),"animateSuccessTip"),c(i.querySelector(".long"),"animateSuccessLong");var s=r.querySelector(".icon.error");c(s,"animateErrorIcon"),c(s.querySelector(".x-mark"),"animateXMark");var o=r.querySelector(".icon.warning");c(o,"pulseWarning"),c(o.querySelector(".body"),"pulseWarningIns"),c(o.querySelector(".dot"),"pulseWarningIns"),e.onkeydown=N,t.onclick=T,x&&x.focus(),C=n,clearTimeout(r.timeout)}})(window,document);