(function(e){typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)})(function(e){function A(t){return t&&t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined)&&(t.allowPageScroll=a),t.click!==undefined&&t.tap===undefined&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),r=n.data(k);r||(r=new O(this,t),n.data(k,r))})}function O(t,v){function it(t){if(It())return;if(e(t.target).closest(v.excludedElements,V).length>0)return;var n=t.originalEvent?t.originalEvent:t,r,i=n.touches,s=i?i[0]:n;$=w,i?J=i.length:t.preventDefault(),P=0,H=null,W=null,F=0,I=0,R=0,U=1,z=0,K=Wt(),X=$t(),jt();if(!i||J===v.fingers||v.fingers===y||bt()){Rt(0,s),Q=nn(),J==2&&(Rt(1,i[1]),I=R=Qt(K[0].start,K[1].start));if(v.swipeStatus||v.pinchStatus)r=ct(n,$)}else r=!1;return r===!1?($=x,ct(n,$),r):(v.hold&&(nt=setTimeout(e.proxy(function(){V.trigger("hold",[n.target]),v.hold&&(r=v.hold.call(V,n,n.target))},this),v.longTapThreshold)),qt(!0),null)}function st(e){var t=e.originalEvent?e.originalEvent:e;if($===S||$===x||Ft())return;var n,r=t.touches,i=r?r[0]:t,s=Ut(i);G=nn(),r&&(J=r.length),v.hold&&clearTimeout(nt),$=E,J==2&&(I==0?(Rt(1,r[1]),I=R=Qt(K[0].start,K[1].start)):(Ut(r[1]),R=Qt(K[0].end,K[1].end),W=Yt(K[0].end,K[1].end)),U=Gt(I,R),z=Math.abs(I-R));if(J===v.fingers||v.fingers===y||!r||bt()){H=tn(s.start,s.end),gt(e,H),P=Zt(s.start,s.end),F=Kt(),Xt(H,P);if(v.swipeStatus||v.pinchStatus)n=ct(t,$);if(!v.triggerOnTouchEnd||v.triggerOnTouchLeave){var o=!0;if(v.triggerOnTouchLeave){var u=rn(this);o=sn(s.end,u)}!v.triggerOnTouchEnd&&o?$=lt(E):v.triggerOnTouchLeave&&!o&&($=lt(S)),($==x||$==S)&&ct(t,$)}}else $=x,ct(t,$);n===!1&&($=x,ct(t,$))}function ot(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;return n&&n.length?(Bt(),!0):(Ft()&&(J=Z),G=nn(),F=Kt(),dt()||!pt()?($=x,ct(t,$)):v.triggerOnTouchEnd||v.triggerOnTouchEnd==0&&$===E?(e.preventDefault(),$=S,ct(t,$)):!v.triggerOnTouchEnd&&Ct()?($=S,ht(t,$,h)):$===E&&($=x,ct(t,$)),qt(!1),null)}function ut(){J=0,G=0,Q=0,I=0,R=0,U=1,jt(),qt(!1)}function at(e){var t=e.originalEvent?e.originalEvent:e;v.triggerOnTouchLeave&&($=lt(S),ct(t,$))}function ft(){V.unbind(A,it),V.unbind(D,ut),V.unbind(O,st),V.unbind(M,ot),_&&V.unbind(_,at),qt(!1)}function lt(e){var t=e,n=mt(),r=pt(),i=dt();return!n||i?t=x:r&&e==E&&(!v.triggerOnTouchEnd||v.triggerOnTouchLeave)?t=S:!r&&e==S&&v.triggerOnTouchLeave&&(t=x),t}function ct(e,t){var n,r=e.touches;if(xt()||St()||wt()||bt()){if(xt()||St())n=ht(e,t,l);(wt()||bt())&&n!==!1&&(n=ht(e,t,c))}else Pt()&&n!==!1?n=ht(e,t,p):Ht()&&n!==!1?n=ht(e,t,d):Dt()&&n!==!1&&(n=ht(e,t,h));return t===x&&ut(e),t===S&&(r?r.length||ut(e):ut(e)),n}function ht(t,a,f){var m;if(f==l){V.trigger("swipeStatus",[a,H||null,P||0,F||0,J,K]);if(v.swipeStatus){m=v.swipeStatus.call(V,t,a,H||null,P||0,F||0,J,K);if(m===!1)return!1}if(a==S&&Et()){V.trigger("swipe",[H,P,F,J,K]);if(v.swipe){m=v.swipe.call(V,t,H,P,F,J,K);if(m===!1)return!1}switch(H){case n:V.trigger("swipeLeft",[H,P,F,J,K]),v.swipeLeft&&(m=v.swipeLeft.call(V,t,H,P,F,J,K));break;case r:V.trigger("swipeRight",[H,P,F,J,K]),v.swipeRight&&(m=v.swipeRight.call(V,t,H,P,F,J,K));break;case i:V.trigger("swipeUp",[H,P,F,J,K]),v.swipeUp&&(m=v.swipeUp.call(V,t,H,P,F,J,K));break;case s:V.trigger("swipeDown",[H,P,F,J,K]),v.swipeDown&&(m=v.swipeDown.call(V,t,H,P,F,J,K))}}}if(f==c){V.trigger("pinchStatus",[a,W||null,z||0,F||0,J,U,K]);if(v.pinchStatus){m=v.pinchStatus.call(V,t,a,W||null,z||0,F||0,J,U,K);if(m===!1)return!1}if(a==S&&yt())switch(W){case o:V.trigger("pinchIn",[W||null,z||0,F||0,J,U,K]),v.pinchIn&&(m=v.pinchIn.call(V,t,W||null,z||0,F||0,J,U,K));break;case u:V.trigger("pinchOut",[W||null,z||0,F||0,J,U,K]),v.pinchOut&&(m=v.pinchOut.call(V,t,W||null,z||0,F||0,J,U,K))}}if(f==h){if(a===x||a===S)clearTimeout(tt),clearTimeout(nt),kt()&&!Ot()?(et=nn(),tt=setTimeout(e.proxy(function(){et=null,V.trigger("tap",[t.target]),v.tap&&(m=v.tap.call(V,t,t.target))},this),v.doubleTapThreshold)):(et=null,V.trigger("tap",[t.target]),v.tap&&(m=v.tap.call(V,t,t.target)))}else if(f==p){if(a===x||a===S)clearTimeout(tt),et=null,V.trigger("doubletap",[t.target]),v.doubleTap&&(m=v.doubleTap.call(V,t,t.target))}else f==d&&(a===x||a===S)&&(clearTimeout(tt),et=null,V.trigger("longtap",[t.target]),v.longTap&&(m=v.longTap.call(V,t,t.target)));return m}function pt(){var e=!0;return v.threshold!==null&&(e=P>=v.threshold),e}function dt(){var e=!1;return v.cancelThreshold!==null&&H!==null&&(e=Vt(H)-P>=v.cancelThreshold),e}function vt(){return v.pinchThreshold!==null?z>=v.pinchThreshold:!0}function mt(){var e;return v.maxTimeThreshold?F>=v.maxTimeThreshold?e=!1:e=!0:e=!0,e}function gt(e,t){if(v.preventDefaultEvents===!1)return;if(v.allowPageScroll===a)e.preventDefault();else{var o=v.allowPageScroll===f;switch(t){case n:(v.swipeLeft&&o||!o&&v.allowPageScroll!=m)&&e.preventDefault();break;case r:(v.swipeRight&&o||!o&&v.allowPageScroll!=m)&&e.preventDefault();break;case i:(v.swipeUp&&o||!o&&v.allowPageScroll!=g)&&e.preventDefault();break;case s:(v.swipeDown&&o||!o&&v.allowPageScroll!=g)&&e.preventDefault()}}}function yt(){var e=Tt(),t=Nt(),n=vt();return e&&t&&n}function bt(){return!!(v.pinchStatus||v.pinchIn||v.pinchOut)}function wt(){return!!yt()&&!!bt()}function Et(){var e=mt(),t=pt(),n=Tt(),r=Nt(),i=dt(),s=!i&&r&&n&&t&&e;return s}function St(){return!!(v.swipe||v.swipeStatus||v.swipeLeft||v.swipeRight||v.swipeUp||v.swipeDown)}function xt(){return!!Et()&&!!St()}function Tt(){return J===v.fingers||v.fingers===y||!T}function Nt(){return K[0].end.x!==0}function Ct(){return!!v.tap}function kt(){return!!v.doubleTap}function Lt(){return!!v.longTap}function At(){if(et==null)return!1;var e=nn();return kt()&&e-et<=v.doubleTapThreshold}function Ot(){return At()}function Mt(){return(J===1||!T)&&(isNaN(P)||P<v.threshold)}function _t(){return F>v.longTapThreshold&&P<b}function Dt(){return!!Mt()&&!!Ct()}function Pt(){return!!At()&&!!kt()}function Ht(){return!!_t()&&!!Lt()}function Bt(){Y=nn(),Z=event.touches.length+1}function jt(){Y=0,Z=0}function Ft(){var e=!1;if(Y){var t=nn()-Y;t<=v.fingerReleaseThreshold&&(e=!0)}return e}function It(){return V.data(k+"_intouch")===!0}function qt(e){e===!0?(V.bind(O,st),V.bind(M,ot),_&&V.bind(_,at)):(V.unbind(O,st,!1),V.unbind(M,ot,!1),_&&V.unbind(_,at,!1)),V.data(k+"_intouch",e===!0)}function Rt(e,t){var n=t.identifier!==undefined?t.identifier:0;return K[e].identifier=n,K[e].start.x=K[e].end.x=t.pageX||t.clientX,K[e].start.y=K[e].end.y=t.pageY||t.clientY,K[e]}function Ut(e){var t=e.identifier!==undefined?e.identifier:0,n=zt(t);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function zt(e){for(var t=0;t<K.length;t++)if(K[t].identifier==e)return K[t]}function Wt(){var e=[];for(var t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function Xt(e,t){t=Math.max(t,Vt(e)),X[e].distance=t}function Vt(e){return X[e]?X[e].distance:undefined}function $t(){var e={};return e[n]=Jt(n),e[r]=Jt(r),e[i]=Jt(i),e[s]=Jt(s),e}function Jt(e){return{direction:e,distance:0}}function Kt(){return G-Q}function Qt(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Gt(e,t){var n=t/e*1;return n.toFixed(2)}function Yt(){return U<1?u:o}function Zt(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function en(e,t){var n=e.x-t.x,r=t.y-e.y,i=Math.atan2(r,n),s=Math.round(i*180/Math.PI);return s<0&&(s=360-Math.abs(s)),s}function tn(e,t){var o=en(e,t);return o<=45&&o>=0?n:o<=360&&o>=315?n:o>=135&&o<=225?r:o>45&&o<135?s:i}function nn(){var e=new Date;return e.getTime()}function rn(t){t=e(t);var n=t.offset(),r={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return r}function sn(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var L=T||C||!v.fallbackToMouseEvents,A=L?C?N?"MSPointerDown":"pointerdown":"touchstart":"mousedown",O=L?C?N?"MSPointerMove":"pointermove":"touchmove":"mousemove",M=L?C?N?"MSPointerUp":"pointerup":"touchend":"mouseup",_=L?null:"mouseleave",D=C?N?"MSPointerCancel":"pointercancel":"touchcancel",P=0,H=null,F=0,I=0,R=0,U=1,z=0,W=0,X=null,V=e(t),$="start",J=0,K=null,Q=0,G=0,Y=0,Z=0,et=0,tt=null,nt=null;try{V.bind(A,it),V.bind(D,ut)}catch(rt){e.error("events not supported "+A+","+D+" on jQuery.swipe")}this.enable=function(){return V.bind(A,it),V.bind(D,ut),V},this.disable=function(){return ft(),V},this.destroy=function(){ft(),V.data(k,null),V=null},this.option=function(t,n){if(v[t]!==undefined){if(n===undefined)return v[t];v[t]=n}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var t="1.6.9",n="left",r="right",i="up",s="down",o="in",u="out",a="none",f="auto",l="swipe",c="pinch",h="tap",p="doubletap",d="longtap",v="hold",m="horizontal",g="vertical",y="all",b=10,w="start",E="move",S="end",x="cancel",T="ontouchstart"in window,N=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,C=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,k="TouchSwipe",L={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(t){var n=e(this),r=n.data(k);if(r&&typeof t=="string"){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(!r&&(typeof t=="object"||!t))return A.apply(this,arguments);return n},e.fn.swipe.version=t,e.fn.swipe.defaults=L,e.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:E,PHASE_END:S,PHASE_CANCEL:x},e.fn.swipe.directions={LEFT:n,RIGHT:r,UP:i,DOWN:s,IN:o,OUT:u},e.fn.swipe.pageScroll={NONE:a,HORIZONTAL:m,VERTICAL:g,AUTO:f},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}});